<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prabal Dhar — Portfolio</title>
  <meta name="description" content="Prabal Dhar — Computer Science & Data Science graduate. Machine Learning, Deep Learning." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#020617; --panel:#071022; --muted:#9aa4b2; --accent:#7c3aed; --accent-2:#06b6d4; --neon: #83f0ff;
      --glass: rgba(255,255,255,0.03); --card-radius:12px; --max-width:1100px; --mono: 'JetBrains Mono', monospace;
      --gap:18px; --pad:20px;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:radial-gradient(900px 400px at 10% 10%, rgba(124,58,237,0.06), transparent), linear-gradient(180deg,var(--bg) 0%, #041226 100%);color:#e6eef6;-webkit-font-smoothing:antialiased;overflow-x:hidden;}
    a{color:inherit;text-decoration:none}
    /* ensure no bottom whitespace from particle canvas and pin footer */
    body{display:flex;flex-direction:column;min-height:100vh;}
    main{flex:1}
    .container{max-width:var(--max-width);margin:20px auto;padding:var(--pad);position:relative;z-index:2}

    /* Background circuit */
    .circuit-bg{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:0.1;animation:moveBg 40s linear infinite alternate;}
    @keyframes moveBg {from{transform:translateY(0)} to{transform:translateY(-20px)}}

    /* Header */
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;transform-style:preserve-3d;}
    .avatar{width:56px;height:56px;border-radius:50%;overflow:hidden;box-shadow:0 0 20px rgba(124,58,237,0.4);transition:transform .3s ease;}
    .avatar:hover{transform:rotateY(15deg) scale(1.05)}
    .brand h1{margin:0;font-size:16px;}
    nav{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    nav a{padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:700;font-size:14px;transition:color .3s ease, transform .3s ease;}
    nav a:hover{color:#fff;transform:translateY(-2px)}
    nav a.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021124;}

    /* Hero */
    .hero{display:grid;grid-template-columns:1fr;gap:var(--gap);margin-top:18px;perspective:1200px;}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));border-radius:var(--card-radius);padding:18px;box-shadow:0 12px 30px rgba(2,6,23,0.6);backdrop-filter: blur(6px);transition:transform .3s ease, box-shadow .3s ease;transform-style:preserve-3d;}
    .card:hover{transform:translateY(-8px) rotateX(4deg) rotateY(-4deg);box-shadow:0 20px 40px rgba(124,58,237,0.4)}
    .title{font-size:26px;margin:0;line-height:1.2}

    /* Terminal */
    .terminal{background:#020617;border-radius:10px;padding:12px;font-family:var(--mono);color:#bfe9ff;font-size:13px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);margin-top:14px;}
    .blink{display:inline-block;width:8px;height:16px;background:var(--accent);margin-left:6px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    /* Skills */
    .skills{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:8px}
    .skill{padding:10px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);font-weight:700;color:var(--muted);display:flex;align-items:center;gap:10px;transition:transform .3s ease, box-shadow .3s ease;position:relative;overflow:hidden}
    .skill:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(124,58,237,0.3)}
    .skill .bar{position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));opacity:0.08;z-index:0;transition:width 1.2s cubic-bezier(.2,.9,.3,1)}
    .skill .label{position:relative;z-index:1}

    /* Projects (increased visual size & spacing) */
    .projects{display:grid;grid-template-columns:1fr;gap:18px;margin-top:18px;}
    .project{perspective:900px;cursor:pointer}
    .project-inner{transition:transform .65s cubic-bezier(.22,.9,.3,1);transform-style:preserve-3d;position:relative}
    .project-front, .project-back{backface-visibility:hidden;border-radius:10px;overflow:hidden;padding:18px;background:linear-gradient(180deg, rgba(10,12,20,0.5), rgba(255,255,255,0.01));border:1px solid rgba(124,58,237,0.06)}
    .project-front{display:grid;grid-template-columns:120px 1fr;gap:16px;align-items:center}
    .project-back{position:absolute;inset:0;transform:rotateY(180deg);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:20px}
    .project.flipped .project-inner{transform:rotateY(180deg)}
    .thumb{height:110px;width:110px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:900;font-family:var(--mono);font-size:20px;color:#021124;flex-shrink:0}

    /* Buttons */
    .btn{padding:10px 12px;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--muted);font-weight:800;transition:transform .18s ease, box-shadow .18s ease;display:inline-flex;align-items:center;gap:8px}
    .btn:hover{transform:translateY(-3px);box-shadow:0 0 15px rgba(124,58,237,0.5)}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021124;border:none;box-shadow:0 8px 30px rgba(124,58,237,0.12);padding:10px 16px}

    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

    /* Particle canvas - MUST be fixed and full viewport to avoid scroll gaps */
    #particle-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;opacity:0.04}

    /* Responsive */
    @media(min-width:900px){
      .hero{grid-template-columns:1fr 360px}
      .projects{grid-template-columns:repeat(2,1fr)}
    }
    @media(max-width:760px){
      .container{padding:14px}
      .title{font-size:20px}
      .project-front{grid-template-columns:84px 1fr}
      .thumb{height:84px;width:84px;font-size:16px;border-radius:8px}
      nav{gap:6px}
      .btn.primary{padding:10px 12px}
    }

    /* smoother reveal */
    .reveal{opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.3,1);will-change:opacity,transform}
    .reveal.visible{opacity:1;transform:none}

    /* typing helpers */
    .typed-name{font-weight:900;font-family:var(--mono);display:inline-block}
    .typed-role{display:block;color:var(--muted);font-weight:700;margin-top:6px}
    .social-link{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;background:rgba(255,255,255,0.02);font-weight:800;color:var(--muted)}
    .social-link:hover{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021124}
  </style>
</head>
<body>
  <div class="circuit-bg" aria-hidden="true">
    <svg viewBox="0 0 1600 900" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg"><g stroke="#7c3aed" stroke-width="1" fill="none"><path d="M40 120 H560 M80 80 V340"/><path d="M260 20 V240 H420"/><path d="M900 50 H1400 V120 H860"/><path d="M1200 400 V760 H1400"/></g></svg>
  </div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="avatar"><img src="profile.jpeg" alt="Prabal Dhar" style="width:100%;height:100%;object-fit:cover;transform:translateZ(40px);"></div>
        <div>
          <!-- typed name & role -->
          <h1 id="typed-name" style="margin:0"><span class="typed-name"></span></h1>
          <div id="typed-role" class="muted typed-role">Computer Science & Data Science</div>
        </div>
      </div>
      <nav>
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#skills">Skills</a>
        <a class="primary" href="#contact">Contact</a>
        <a class="social-link" href="https://www.linkedin.com/in/prabaldhar01/" target="_blank" rel="noopener">LinkedIn</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="card">
          <h2 class="title">Hi — I’m <span class="typed-name-inline" aria-hidden="true"></span></h2>
          <p class="muted">B.Tech (Honours) — CSE (Data Science).</p>

          <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
            <a class="btn" href="https://github.com/PrabalDhar14" target="_blank" rel="noopener">GitHub</a>
            <a class="btn primary" href="https://drive.google.com/file/d/1QYk-l2amT0ZbYDbHel9vh91KoG34DzAq/view?usp=sharing" target="_blank" rel="noopener">📄 CV</a>
            <a class="social-link" href="https://www.linkedin.com/in/prabaldhar01/" target="_blank" rel="noopener">🔗 LinkedIn</a>
          </div>

          <div class="terminal">
            <div><span class="prompt">$</span> Enthusiastic Computer Science Engineering graduate passionate about Machine Learning & Deep Learning<span class="blink"></span></div>
          </div>
        </div>
      </section>

      <section id="skills">
        <div class="card">
          <h2>Technical Skills</h2>
          <div class="skills">
            <div class="skill" data-percent="80"><span class="dot"></span>Python</div>
            <div class="skill" data-percent="85"><span class="dot"></span>PyTorch</div>
            <div class="skill" data-percent="75"><span class="dot"></span>TensorFlow</div>
            <div class="skill" data-percent="75"><span class="dot"></span>Computer Vision</div>
            <div class="skill" data-percent="80"><span class="dot"></span>Deep Learning</div>
            <div class="skill" data-percent="70"><span class="dot"></span>MLOps</div>
          </div>
        </div>
      </section>

      <section id="projects">
        <h2>Projects</h2>
        <div class="projects">
          <div class="project reveal" data-title="Hybrid CNN — Glaucoma Detection" data-desc="EfficientNetB3 backbone, custom heads, extensive augmentation, model checkpointing, Achieved strong validation performance with robust error analysis." data-repo="https://github.com/PrabalDhar14/glaucoma">
            <div class="project-inner">
              <div class="project-front">
                <div class="thumb">GLU</div>
                <div>
                  <h3>Hybrid CNN — Glaucoma Detection</h3>
                  <p>EfficientNetB3 with full pipeline and Flask demo.</p>
                  <div class="hint">Click to view details</div>
                </div>
              </div>
              <div class="project-back">
                <h3>Hybrid CNN — Glaucoma Detection</h3>
                <p style="color:var(--muted);margin:8px 0 12px;">EfficientNetB3 backbone, custom heads, augmentation pipeline, checkpointing and Flask demo app. Focused on robust validation and explainability.</p>
                <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">
                  <a class="btn" href="https://github.com/PrabalDhar14/glaucoma" target="_blank" rel="noopener">View repo</a>
                  <a class="btn primary" href="#" onclick="alert('Demo link placeholder');return false;">Live demo</a>
                </div>
              </div>
            </div>
          </div>

          <div class="project reveal" data-title="Iris Flower Classification" data-desc="Clean experiments focused on reproducibility: deterministic seeds, stratified cross-validation, hyperparameter search, and clear evaluation visuals. Includes notebooks and a small web demo." data-repo="https://github.com/PrabalDhar14/iris">
            <div class="project-inner">
              <div class="project-front">
                <div class="thumb">IRIS</div>
                <div>
                  <h3>Iris Flower Classification</h3>
                  <p>Reproducible ML experiments with cross-validation.</p>
                  <div class="hint">Click to view details</div>
                </div>
              </div>
              <div class="project-back">
                <h3>Iris Flower Classification</h3>
                <p style="color:var(--muted);margin:8px 0 12px;">Deterministic seeds, stratified CV, hyperparameter search and clear evaluation visuals. Notebooks included.</p>
                <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">
                  <a class="btn" href="https://github.com/PrabalDhar14/iris" target="_blank" rel="noopener">View repo</a>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <section id="contact">
        <div class="card">
          <h2>Get in touch</h2>
          <a class="btn primary" href="mailto:prabaldharofficial@gmail.com">📧 Email Me</a>
        </div>
      </section>

      <footer>
        <div>Made with ❤️ — Prabal Dhar · <a href="https://github.com/PrabalDhar14" target="_blank" rel="noopener">GitHub</a></div>
      </footer>
    </main>
  </div>

  <!-- particle canvas will be created by JS if not present -->
  <canvas id="particle-canvas" aria-hidden="true"></canvas>

<!-- Interactive JS: typing (loop), refined skill bars, flip cards, particles, reveal -->
<script>
document.addEventListener('DOMContentLoaded', function(){
  /* ================= Typewriter loop for name =================
     loops: type -> pause -> delete -> pause -> repeat
     updates both #typed-name .typed-name and .typed-name-inline
  */
  const nameEls = {
    header: document.querySelector('#typed-name .typed-name'),
    inline: document.querySelector('.typed-name-inline'),
    role: document.getElementById('typed-role')
  };
  const fullName = 'Prabal Dhar';
  const fullRole = 'Computer Science & Data Science';

  // create header name container if missing (keeps your existing markup safe)
  if(!nameEls.header){
    const span = document.createElement('span');
    span.className = 'typed-name';
    document.getElementById('typed-name').appendChild(span);
    nameEls.header = span;
  }
  if(!nameEls.inline) {
    const span2 = document.querySelector('.typed-name-inline');
    if(!span2){
      const elem = document.createElement('span');
      elem.className = 'typed-name-inline';
      document.querySelector('.title')?.appendChild(elem);
      nameEls.inline = elem;
    } else nameEls.inline = span2;
  }

  function sleep(ms){ return new Promise(res => setTimeout(res, ms)); }

  async function typeLoop(el, text, typeSpeed=80, pauseAfter=900, deleteSpeed=40){
    while(true){
      // type
      el.textContent = '';
      for(let i=0;i<text.length;i++){
        el.textContent += text[i];
        await sleep(typeSpeed);
      }
      await sleep(pauseAfter);
      // delete
      for(let i=text.length-1;i>=0;i--){
        el.textContent = text.slice(0,i);
        await sleep(deleteSpeed);
      }
      await sleep(400);
    }
  }

  // start header + inline loops slightly staggered
  typeLoop(nameEls.header, fullName, 90, 900, 50);
  // inline mirrors header but with a small offset for visual interest
  setTimeout(()=> typeLoop(nameEls.inline, fullName, 90, 900, 50), 350);

  // type role once (no loop) after first name typed
  (async ()=>{
    await sleep(fullName.length*90 + 600);
    if(nameEls.role) { nameEls.role.textContent = ''; for(let i=0;i<fullRole.length;i++){ nameEls.role.textContent += fullRole[i]; await sleep(55);} }
  })();

  /* ================ reveal observer (stagger) ================ */
  const reveals = document.querySelectorAll('.card, .project');
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); } });
  },{threshold:0.12});
  reveals.forEach((el,i)=>{ el.classList.add('reveal'); el.style.transitionDelay = (i*80)+'ms'; io.observe(el); });

  /* ================ skill bars ================ */
  document.querySelectorAll('.skill').forEach((s, idx)=>{
    const pct = Number(s.dataset.percent || 80);
    const bar = s.querySelector('.bar') || (function(){ const b=document.createElement('div'); b.className='bar'; s.appendChild(b); return b; })();
    const label = s.querySelector('.label') || (function(){ const l=document.createElement('div'); l.className='label'; while(s.firstChild && !s.firstChild.classList){ l.appendChild(s.firstChild); } s.appendChild(l); return l; })();
    setTimeout(()=>{ bar.style.width = Math.max(6, Math.min(100, pct))+'%'; }, 150 + idx*120);
  });

  /* ================ projects flip cards ================ */
  document.querySelectorAll('.project').forEach((p)=>{
    // ensure structure exists (we already created in markup)
    const inner = p.querySelector('.project-inner');
    if(!inner) return;
    // click toggles flip; ignore clicks on links
    p.addEventListener('click', (ev)=>{ if(ev.target.tagName==='A') return; p.classList.toggle('flipped'); });
    // keyboard accessibility
    p.tabIndex = 0;
    p.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); p.classList.toggle('flipped'); } });
  });

  /* ================ particle background ================ */
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext && canvas.getContext('2d') ? canvas.getContext('2d') : null;
  if(ctx){
    function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    window.addEventListener('resize', resize); resize();
    const COUNT = 35;
    const particles = Array.from({length:COUNT}).map(()=>({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.6 + 0.4, vx:(Math.random()-0.5)*0.25, vy:(Math.random()-0.5)*0.25 }));
    function tick(){ ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; if(p.x<0) p.x=canvas.width; if(p.x>canvas.width) p.x=0; if(p.y<0) p.y=canvas.height; if(p.y>canvas.height) p.y=0; ctx.beginPath(); ctx.fillStyle='rgba(124,58,237,0.7)'; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); }); requestAnimationFrame(tick); }
    tick();
  } else {
    // fallback: hide canvas if 2D not supported
    canvas.style.display='none';
  }

  // allow ESC to close flipped cards
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ document.querySelectorAll('.project.flipped').forEach(p=>p.classList.remove('flipped')); } });

  /* ensure footer stays at bottom by shrinking any accidental extra page height (safety) */
  // nothing required here — CSS body/main handles it
});
</script>

</body>
</html>
